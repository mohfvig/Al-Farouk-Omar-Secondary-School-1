<!DOCTYPE html>
<html dir="rtl" lang="ar">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>ุฃุฑุดูู ุงูุฃุฎุจุงุฑ - ูุฏุฑุณุฉ ุงููุงุฑูู ุนูุฑ</title>
  <link href="style.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
 </head>
 <body class="bg">
  <header>
   <div class="wrap brand">
    <div class="title">
     <div class="logo">๐</div>
     <h1>ูุฏุฑุณุฉ ุงููุงุฑูู ุนูุฑ ุงูุซุงูููุฉ ุงูุนุณูุฑูุฉ ุจููู</h1>
     <img alt="ุดุนุงุฑ ุงููุฏุฑุณุฉ" id="main-logo" src="icon.jpg"/>
    </div>
    <div class="header-actions">
     <button class="btn btn-icon" id="dark-mode-toggle">๐</button>
     <button class="btn btn-icon menu-toggle" id="menu-toggle">โฐ</button>
    </div>
   </div>
       <div id="nav-wrapper">
      <nav class="wrap nav-menu">
        <ul>
          <li><a href="index.html" class="nav-link">ุงูุตูุญู ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="news.html" class="nav-link active">ุงูุฃุฎุจุงุฑ ูุงููุนุงููุงุช</a></li>
          <li><a href="test.html#test" class="nav-link">ุฌุฏุงูู ุงูุงูุชุญุงูุงุช</li></a>
        </ul>
      </nav>
    </div>
  </header>

  <main class="wrap">
   <div class="section-title" style="margin-top:20px;">
    <h2>ุฃุฑุดูู ุงูุฃุฎุจุงุฑ ุจุงููุงูู</h2>
   </div>
   <div class="news-grid news-full-list" id="news-container">
    </div>
  </main>

 <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAY4DtaYX2toAUB-zNX23mBUEEZeuzE2DI",
        databaseURL: "https://news-f45f8-default-rtdb.firebaseio.com",
        projectId: "news-f45f8"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const container = document.getElementById('news-container');

    onValue(ref(db, 'news'), (snapshot) => {
        const data = snapshot.val();
        if (container) {
            container.innerHTML = "";
            if (data) {
                Object.keys(data).reverse().forEach(id => {
                    const item = data[id];
                    // ููุฎุต ุงูุฎุจุฑ: 150 ุญุฑู ููุท ูุถูุงู ุนุฏู ุชูุฏุฏ ุงููุงุฑุช ุจุดูู ูุดูู
                    const summary = item.content.length > 150 ? item.content.substring(0, 150) + "..." : item.content;
                    container.innerHTML += `
                        <div class="card news-item" style="word-wrap: break-word; overflow: hidden;">
                            <h3 style="overflow-wrap: break-word;">${item.title}</h3>
                            <p class="meta">${item.date}</p>
                            <p style="overflow-wrap: break-word;">${summary}</p>
                            <a href="post.html?id=${id}" class="btn btn-muted" style="margin-top:10px; display:inline-block;">ุงูุฑุฃ ุงูุฎุจุฑ ูุงููุงู โ</a>
                        </div>`;
                });
            }
        }
    });
</script>

   <script>
    // JavaScript for Dark Mode Toggle
    const toggleButton = document.getElementById('dark-mode-toggle');
    const body = document.body; 

    // Dark Mode Logic
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark-mode');
      toggleButton.textContent = 'โ๏ธ';
    }

    toggleButton.addEventListener('click', () => {
      body.classList.toggle('dark-mode');

      if (body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
        toggleButton.textContent = 'โ๏ธ';
      } else {
        localStorage.setItem('theme', 'light');
        toggleButton.textContent = '๐';
      }
    });

    // โฌ๏ธ ุงูููุฏ ุงูููุนุฏูู ูุชุดุบูู ูุงุฆูุฉ ุงููุงูุจุฑุบุฑ ูุน ุญูุธ ุญุงูุฉ ุงูุฑุงุจุท ุงููุดุท โฌ๏ธ
    const menuToggle = document.getElementById('menu-toggle');
    const navWrapper = document.getElementById('nav-wrapper');
    const navLinks = document.querySelectorAll('.nav-link');
    
    if (menuToggle && navWrapper) {
      menuToggle.addEventListener('click', () => {
        const isOpening = !navWrapper.classList.contains('menu-open');
        
        // ุชุจุฏูู ุญุงูุฉ ุงููุงุฆูุฉ
        navWrapper.classList.toggle('menu-open');
        menuToggle.textContent = isOpening ? 'โ' : 'โฐ';
      });
    }

    // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ูุฑูุงุจุท ุงููุงุฆูุฉ (ูุชุญุฏูุซ ุงูู active)
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            // ุฅุฒุงูุฉ 'active' ูู ุงููู
            navLinks.forEach(l => l.classList.remove('active'));
            // ุฅุถุงูุฉ 'active' ููุฑุงุจุท ุงูุฐู ุชู ุงูุถุบุท ุนููู
            link.classList.add('active');
            
            // ุฅุบูุงู ุงููุงุฆูุฉ ุจุนุฏ ุงูุงุฎุชูุงุฑ
            if (navWrapper.classList.contains('menu-open')) {
                navWrapper.classList.remove('menu-open');
                menuToggle.textContent = 'โฐ';
            }
        });
    });
  </script>
   <footer>
   ยฉ ุฌููุน ุงูุญููู ูุญููุธุฉ ูุนุงู 2025 โ ูุฏุฑุณุฉ ุงููุงุฑูู ุนูุฑ ุงูุซุงูููุฉ ุงูุนุณูุฑูุฉ ุจููู
  </footer>
 </body>
</html>
