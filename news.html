<!DOCTYPE html>
<html dir="rtl" lang="ar">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙØ§Ø±ÙˆÙ‚ Ø¹Ù…Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© Ø¨Ù†ÙŠÙ†-  ØµÙØ­Ø© Ø§Ù„Ø§Ø®Ø¨Ø§Ø±</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="style.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
 </head>
 <body class="bg">
  <header>
   <div class="wrap brand">
    <div class="title">
     <div class="logo">ğŸ“š</div>
     <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙØ§Ø±ÙˆÙ‚ Ø¹Ù…Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© Ø¨Ù†ÙŠÙ†</h1>
     <img alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©" id="main-logo" src="icon.jpg"/>
    </div>
    <div class="header-actions">
     <button class="btn btn-icon" id="dark-mode-toggle">ğŸŒ™</button>
     <button class="btn btn-icon menu-toggle" id="menu-toggle">â˜°</button>
    </div>
   </div>
       <div id="nav-wrapper">
      <nav class="wrap nav-menu">
        <ul>
          <li><a href="index.html" class="nav-link">Ø§Ù„ØµÙØ­Ù‡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
          <li><a href="news.html" class="nav-link active">Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</a></li>
          <li><a href="test.html#test" class="nav-link">Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</li></a>
        </ul>
      </nav>
    </div>
    <div class="top-info-bar">
    <span>Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ: <span id="navYear">...</span></span>
    <span class="separator">|</span>
    <span>Ø§Ù„ØªØ±Ù…: <span id="navTerm">...</span></span>
</div>
  </header>

  <main class="wrap">
        <div class="hero-section" style="text-align: center; padding: 30px 0;">
   <div class="section-title">
    <h2>Ø§Ù„Ø§Ø®Ø¨Ø§Ø± </h2>
   </div>
      <p>Ø§Ø¨Ù‚ Ø¹Ù„ÙŠ Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„ÙŠ Ø§Ø®Ø± Ø§Ù„Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ù„ÙØ§Ø¹Ù„ÙŠØ§Øª.</p>
    </div>
    
   <div class="news-grid news-full-list" id="news-container">
    </div>
  </main>
 <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAY4DtaYX2toAUB-zNX23mBUEEZeuzE2DI",
        databaseURL: "https://news-f45f8-default-rtdb.firebaseio.com",
        projectId: "news-f45f8"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    
    const container = document.getElementById('news-container');

    onValue(ref(db, 'news'), (snapshot) => {
        const data = snapshot.val();
        if (container) {
            container.innerHTML = "";
            if (data) {
                Object.keys(data).reverse().forEach(id => {
                    const item = data[id];
                    // Ù…Ù„Ø®Øµ Ø§Ù„Ø®Ø¨Ø±: 150 Ø­Ø±Ù ÙÙ‚Ø· Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªÙ…Ø¯Ø¯ Ø§Ù„ÙƒØ§Ø±Øª Ø¨Ø´ÙƒÙ„ Ù…Ø´ÙˆÙ‡
                    const summary = item.content.length > 40 ? item.content.substring(0, 40) + "..." : item.content;
                    container.innerHTML += `
                        <div class="card news-item" style="word-wrap: break-word; overflow: hidden;">
                            <h3 style="overflow-wrap: break-word;">${item.title}</h3>
                            <p class="meta">${item.date}</p>
                            <p style="overflow-wrap: break-word;">${summary}</p>
                            <a href="post.html?id=${id}" class="btn btn-muted" style="margin-top:10px; display:inline-block;">Ø§Ù‚Ø±Ø£ Ø§Ù„Ø®Ø¨Ø± ÙƒØ§Ù…Ù„Ø§Ù‹ â†</a>
                        </div>`;
                });
            }
        }
    });
        // ÙƒÙˆØ¯ Ø¬Ù„Ø¨ Ø§Ù„Ø³Ù†Ø© ÙˆØ¹Ø±Ø¶Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
const yearRef = ref(db, 'settings/currentYear');
onValue(yearRef, (snapshot) => {
    const year = snapshot.val() || "2025/2026"; // Ù‚ÙŠÙ…Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
    const yearElement = document.getElementById('displayYear');
    if(yearElement) {
        yearElement.innerText = year;
    }
});
// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
onValue(ref(db, 'settings/currentYear'), (snapshot) => {
    if(snapshot.exists()) {
        document.getElementById('navYear').innerText = snapshot.val();
    }
});

onValue(ref(db, 'settings/currentTerm'), (snapshot) => {
    if(snapshot.exists()) {
        document.getElementById('navTerm').innerText = snapshot.val();
    }
});

</script>
<script>
    const body = document.body;
    const toggleButton = document.getElementById('dark-mode-toggle');
    const menuToggle = document.getElementById('menu-toggle');
    const navWrapper = document.getElementById('nav-wrapper');

    // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    if (localStorage.getItem('theme') === 'dark') {
        body.classList.add('dark-mode');
        if(toggleButton) toggleButton.textContent = 'â˜€ï¸';
    }

    if(toggleButton) {
        toggleButton.onclick = () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            toggleButton.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
        };
    }

    // Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    if(menuToggle && navWrapper) {
        menuToggle.onclick = () => {
            navWrapper.classList.toggle('menu-open');
            menuToggle.textContent = navWrapper.classList.contains('menu-open') ? 'âœ•' : 'â˜°';
        };
    }
document.addEventListener('DOMContentLoaded', function() {
    const menu = document.getElementById('contactMenu');
    const btn = document.getElementById('fabTrigger');
    const icon = document.getElementById('fabIcon');

    btn.addEventListener('click', function(e) {
        e.stopPropagation();
        menu.classList.toggle('active');
        // ØªØºÙŠÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
        if (menu.classList.contains('active')) {
            icon.className = 'fas fa-times';
        } else {
            icon.className = 'fas fa-comment-alt';
        }
    });

    // Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù†
    document.addEventListener('click', function() {
        menu.classList.remove('active');
        icon.className = 'fas fa-comment-alt';
    });
});
</script>
       <footer style="text-align: center; padding: 20px; background: var(--card); border-top: 1px solid var(--border); margin-top: 20px;">
   Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¹Ø§Ù… <span id="displayYear"></span> â€” Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙØ§Ø±ÙˆÙ‚ Ø¹Ù…Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© Ø¨Ù†ÙŠÙ†
</footer>
<div class="contact-fab-container" id="contactMenu">
    <div class="fab-links-wrapper">
        <a href="https://wa.me/201234567890" target="_blank" class="fab-link-item wa" title="ÙˆØ§ØªØ³Ø§Ø¨">
            <i class="fab fa-whatsapp"></i>
        </a>
        <a href="https://www.facebook.com/share/1afZiGVGE4/" target="_blank" class="fab-link-item fb" title="ÙÙŠØ³Ø¨ÙˆÙƒ">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://maps.app.goo.gl/zbz4YQaq6vAMrztq9" target="_blank" class="fab-link-item gp" title="Ù…ÙˆÙ‚Ø¹Ù†Ø§">
            <i class="fas fa-location-dot"></i>
        </a>
    </div>

    <button class="fab-main-trigger" id="fabTrigger">
        <i class="fas fa-comment-alt" id="fabIcon"></i>
    </button>
</div>

 </body>
</html>
